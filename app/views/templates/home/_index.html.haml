%script{ type: 'text/ng-template', id: 'home/index.html' }

  %p
    Elements: {{ elements | json }}

  %p
    Selected element: {{ selectedElement | json }}

  %div
    = label_tag :name, 'Name'
    = text_field_tag :name, '', { 'ng-model' => 'busca.name' }

  %table
    %thead
      %tr
        %th Name
        %th Value
        %th Actions
    %tbody{ 'ng-repeat' => 'element in elementsFilter = ( elements | filter: busca )', 'ng-switch' => true, on: 'selected(element)' }
      %tr{ 'ng-class' => '{ selected: selected(element) }' }
        %td {{ element.name }}
        %td {{ element.value | boolean }}
        %td
          %a{ href: true, 'ng-click' => 'edit(element)' }
            Select
      %tr{ 'ng-switch-when' => 'true' }
        %td{ colspan: 3 }
          %form{ name: 'elementForm' }
            %input{ type: 'text', name: 'name', 'ng-model' => 'element.name' }
            %br
            %input{ type: 'checkbox', name: 'value', 'ng-model' => 'element.value' }
            Checked?
          %a{ href: true, 'ng-click' => 'close()' }
            Close
  %div{ 'ng-hide' => 'elementsFilter.length' }
    No matches found
